<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Spin the Wheel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background: #fff;
}
canvas {
  width: 500px;
  height: 500px;
}
button {
  margin-top: 20px;
  padding: 10px 20px;
}
</style>
</head>
<body>
<div>
  <canvas id="wheelCanvas" width="500" height="500"></canvas>
  <br>
  <button id="spinBtn">Spin</button>
</div>

<script>
const entries = [
  "Professor Bruno",
  "Bommareddy Pramathreddy",
  "Sarah",
  "Juliana Agyapong",
  "Lu Lu",
  "Abdoulie K Darboe",
  "Saurabh Prakash Dighe",
  "Aditi Arya",
  "Sohaib Salahuddin",
  "George Paintsil",
  "Abdullah Asif"
];

const colors = ["#3369E8", "#D50F25", "#EEB211", "#009925"];
const canvas = document.getElementById("wheelCanvas");
const ctx = canvas.getContext("2d");
let currentRotation = 0;
let spinning = false;

function drawWheel() {
  const total = entries.length;
  const arc = (2 * Math.PI) / total;
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  for (let i = 0; i < total; i++) {
    const angle = i * arc + currentRotation;
    ctx.beginPath();
    ctx.moveTo(250, 250);
    ctx.arc(250, 250, 250, angle, angle + arc);
    ctx.fillStyle = colors[i % colors.length];
    ctx.fill();
    ctx.save();
    ctx.translate(250, 250);
    ctx.rotate(angle + arc / 2);
    ctx.fillStyle = "#fff";
    ctx.font = "bold 14px sans-serif";
    ctx.textAlign = "right";
    ctx.fillText(entries[i], 230, 5);
    ctx.restore();
  }
}
drawWheel();

document.getElementById("spinBtn").onclick = () => {
  if (spinning) return;
  spinning = true;
  const target = currentRotation + (Math.random() * 4 + 6) * Math.PI;
  const duration = 3000;
  const start = performance.now();

  function animate(now) {
    const t = Math.min((now - start) / duration, 1);
    currentRotation += (target - currentRotation) * (1 - (1 - t) ** 3);
    drawWheel();
    if (t < 1) requestAnimationFrame(animate);
    else spinning = false;
  }
  requestAnimationFrame(animate);
};
</script>
</body>
</html>
